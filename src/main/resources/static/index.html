<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ProfIS - Professoren-Informationssystem</title>
    <link rel="stylesheet" href="updated-styles.css">
</head>
<body>
<!-- Navigation mit integrierter Titlebar -->
<nav class="topnav">
    <div class="nav-container">
        <div class="nav-brand">
            <svg class="nav-logo" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
            </svg>
            <span>ProfIS</span>
        </div>
        <div class="nav-links">
            <a class="nav-link active" data-view="dashboard">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="3" width="7" height="7"/>
                    <rect x="14" y="3" width="7" height="7"/>
                    <rect x="14" y="14" width="7" height="7"/>
                    <rect x="3" y="14" width="7" height="7"/>
                </svg>
                <span>Übersicht</span>
            </a>
            <a class="nav-link" data-view="students">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                    <circle cx="9" cy="7" r="4"/>
                    <path d="M22 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75"/>
                </svg>
                <span>Studenten</span>
            </a>
            <a class="nav-link" data-view="theses">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                    <polyline points="14 2 14 8 20 8"/>
                    <line x1="16" y1="13" x2="8" y2="13"/>
                    <line x1="16" y1="17" x2="8" y2="17"/>
                    <polyline points="10 9 9 9 8 9"/>
                </svg>
                <span>Arbeiten</span>
            </a>
            <a class="nav-link" data-view="professors">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                    <circle cx="9" cy="7" r="4"/>
                    <path d="M23 21v-2a4 4 0 0 0-3-3.87m-4-12a4 4 0 0 1 0 7.75"/>
                </svg>
                <span>Professoren</span>
            </a>
            <a class="nav-link" data-view="reports">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="20" x2="18" y2="10"/>
                    <line x1="12" y1="20" x2="12" y2="4"/>
                    <line x1="6" y1="20" x2="6" y2="14"/>
                </svg>
                <span>Reports</span>
            </a>
            <a class="nav-link" data-view="config">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="3"/>
                    <path d="M12 1v6m0 6v6m8.66-15l-3 5.196M8.34 12.804l-3 5.196M23 12h-6m-6 0H5m15.66 3.804l-3-5.196M8.34 6.196l-3-5.196"/>
                </svg>
                <span>Konfiguration</span>
            </a>
        </div>

        <!-- Drag Region - fills remaining space -->
        <div class="titlebar-drag-spacer"></div>

        <!-- Window Control Buttons -->
        <div class="titlebar-buttons">
            <button id="min-btn" class="titlebar-btn" title="Minimieren">
                <svg width="10" height="1" viewBox="0 0 10 1">
                    <path d="M0,0.5 L10,0.5" stroke="currentColor" stroke-width="1"/>
                </svg>
            </button>
            <button id="max-btn" class="titlebar-btn" title="Maximieren">
                <svg width="10" height="10" viewBox="0 0 10 10">
                    <rect x="0.5" y="0.5" width="9" height="9" stroke="currentColor" fill="none" stroke-width="1"/>
                </svg>
            </button>
            <button id="close-btn" class="titlebar-btn close" title="Schließen">
                <svg width="10" height="10" viewBox="0 0 10 10">
                    <path d="M0,0 L10,10 M10,0 L0,10" stroke="currentColor" stroke-width="1.5"/>
                </svg>
            </button>
        </div>
    </div>
</nav>

<!-- Main App Container -->
<div id="app"></div>

<!-- Bottom Status Bar -->
<div class="bottom-bar">
    <div class="status-bar">
        <div class="status-indicator"></div>
        <span class="status-text" id="statusText">System bereit</span>
    </div>
</div>

<!-- Modals Container -->
<div id="modals"></div>

<!-- SheetJS für Excel Import/Export -->
<script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js"></script>

<script src="ui-logic.js"></script>
<script>
    // Titlebar button handlers
    if (window.electronAPI) {
        document.getElementById('min-btn').addEventListener('click', () => {
            window.electronAPI.minimizeWindow();
        });

        document.getElementById('max-btn').addEventListener('click', () => {
            window.electronAPI.maximizeWindow();
        });

        document.getElementById('close-btn').addEventListener('click', () => {
            window.electronAPI.closeWindow();
        });
    }
</script>
</body>
</html>